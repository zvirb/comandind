{
  "package_id": "validation_integration_context",
  "package_type": "migrated-context",
  "content": "{\n  \"phase\": \"integration_validation\",\n  \"priority\": \"critical\",\n  \"agent\": \"user-experience-auditor\",\n  \"focus\": \"Validate integrated session management through real user workflows\",\n  \n  \"validation_workflows\": [\n    {\n      \"name\": \"Session Persistence Validation\",\n      \"steps\": [\n        \"Navigate to https://aiwfe.com\",\n        \"Login with test credentials\",\n        \"Click Documents tab\",\n        \"Verify still logged in\",\n        \"Click Calendar tab\", \n        \"Verify still logged in\",\n        \"Click Chat tab\",\n        \"Verify WebSocket connects with auth\"\n      ],\n      \"evidence\": [\"Screenshots at each step\", \"Session cookie persistence\", \"Network logs\"]\n    },\n    \n    {\n      \"name\": \"Redis Fallback Validation\",\n      \"steps\": [\n        \"Login to system\",\n        \"Trigger Redis failure (kill container)\",\n        \"Navigate between pages\",\n        \"Verify session continues (degraded mode)\",\n        \"Restore Redis\",\n        \"Verify automatic recovery\"\n      ],\n      \"evidence\": [\"Degraded mode UI screenshot\", \"Session continuity logs\", \"Recovery confirmation\"]\n    },\n    \n    {\n      \"name\": \"WebSocket Authentication Validation\",\n      \"steps\": [\n        \"Open browser dev tools\",\n        \"Navigate to Chat\",\n        \"Inspect WebSocket connection\",\n        \"Verify auth token in connection params\",\n        \"Logout and try WS connection\",\n        \"Verify connection rejected\"\n      ],\n      \"evidence\": [\"WS connection headers\", \"Auth token presence\", \"Rejection on invalid auth\"]\n    },\n    \n    {\n      \"name\": \"Token Format Compatibility\",\n      \"steps\": [\n        \"Create user with legacy system\",\n        \"Login (generates sub=email token)\",\n        \"Navigate all sections\",\n        \"Create user with new system\",\n        \"Login (generates sub=user_id token)\",\n        \"Navigate all sections\"\n      ],\n      \"evidence\": [\"Both token formats working\", \"No navigation issues\", \"Consistent session state\"]\n    },\n    \n    {\n      \"name\": \"CSRF Protection Validation\",\n      \"steps\": [\n        \"Test in development environment\",\n        \"Verify CSRF handling\",\n        \"Test in production environment\",\n        \"Verify same CSRF behavior\",\n        \"Test cross-origin request rejection\"\n      ],\n      \"evidence\": [\"CSRF token in requests\", \"Consistent behavior\", \"CORS rejection proof\"]\n    }\n  ],\n  \n  \"performance_benchmarks\": {\n    \"session_check_latency\": \"< 50ms\",\n    \"fallback_activation\": \"< 100ms\",\n    \"state_sync_delay\": \"< 100ms\",\n    \"websocket_auth\": \"< 200ms\"\n  },\n  \n  \"automation_requirements\": {\n    \"playwright_tests\": [\n      \"test_session_persistence.py\",\n      \"test_redis_fallback.py\",\n      \"test_websocket_auth.py\",\n      \"test_token_compatibility.py\",\n      \"test_csrf_protection.py\"\n    ],\n    \"evidence_collection\": [\n      \"Screenshot after each navigation\",\n      \"Session state at each checkpoint\",\n      \"Network request/response logs\",\n      \"WebSocket frame captures\"\n    ]\n  },\n  \n  \"success_metrics\": {\n    \"primary\": {\n      \"session_persistence\": \"> 99%\",\n      \"endpoint_success\": \"> 90%\",\n      \"websocket_auth\": \"100%\",\n      \"fallback_activation\": \"< 60s\"\n    },\n    \"secondary\": {\n      \"token_compatibility\": \"100%\",\n      \"csrf_consistency\": \"100%\",\n      \"state_sync_latency\": \"< 100ms\",\n      \"degraded_performance\": \"< 10% slower\"\n    }\n  },\n  \n  \"failure_indicators\": [\n    \"Logout on navigation\",\n    \"WebSocket connects without auth\",\n    \"Session lost on Redis failure\",\n    \"Token format errors\",\n    \"CSRF validation inconsistent\"\n  ],\n  \n  \"rollback_triggers\": [\n    \"Session persistence < 95%\",\n    \"Endpoint success < 70%\",\n    \"WebSocket auth bypass detected\",\n    \"Critical errors in production\"\n  ]\n}",
  "tokens": 453,
  "created_at": "2025-08-18T15:14:25.727154",
  "last_accessed": "2025-08-18T15:14:25.727167",
  "priority": "medium",
  "context_tags": [
    "migrated",
    "context-package"
  ]
}