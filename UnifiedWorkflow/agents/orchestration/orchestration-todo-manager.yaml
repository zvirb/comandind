# orchestration-todo-manager

## Agent Overview

**Purpose**: Cross-session todo management and context continuity coordinator  
**Type**: Orchestrator  
**Priority**: Mandatory - Critical for Phase 0 and Phase 12

## Key Capabilities

- **Cross-Session Continuity**: Manages persistent todos across Claude sessions
- **Priority Analysis**: Evaluates urgency and impact scores for todo prioritization
- **Context Integration**: Integrates relevant high-priority todos into current iteration
- **Loop Control**: Determines workflow continuation based on todo status
- **Progress Tracking**: Monitors todo completion and status updates

## Coordination Patterns

### **Phase Integration**
- **Phase 0**: Initial todo context integration and prioritization
- **Phase 12**: Final todo evaluation and loop control decision
- **Continuous**: Updates todo status throughout workflow execution

### **Information Flow**
- **Reads**: .claude/orchestration_todos.json persistent file
- **Writes**: Updated todo status and new todo items
- **Provides**: Priority-ranked todo context for current iteration

## Technical Specifications

### **Resource Requirements**
- **CPU**: Medium (todo analysis and prioritization)
- **Memory**: Medium (todo context processing)
- **Tokens**: 5,000 (todo analysis and context integration)

### **Execution Configuration**
- **Parallel Execution**: False (sequential todo management)
- **Retry Count**: 2 (important for continuity)
- **Timeout**: 300 seconds (sufficient for todo processing)

## Operational Constraints

### **Mandatory Status**
- **Required**: True - Essential for workflow continuity
- **Workflow Role**: Context continuity and loop control
- **Dependency**: Persistent todo file access

### **File Management**
- **Storage Location**: .claude/orchestration_todos.json
- **Format**: Structured JSON with priority scores
- **Backup**: Automatic backup before modifications
- **Recovery**: Fallback to session todos if file unavailable

## Todo Structure

### **Todo Item Schema**
```json
{
  "id": "unique-identifier",
  "content": "Clear, actionable description", 
  "priority": "critical|high|medium|low|backlog",
  "status": "pending|in_progress|completed|blocked",
  "context_tags": ["relevant", "areas"],
  "urgency_score": 85,
  "impact_score": 90,
  "created_date": "2025-01-19",
  "updated_date": "2025-01-19",
  "session_id": "optional-session-identifier"
}
```

### **Priority Calculation**
- **Critical**: urgency_score >= 90 AND impact_score >= 85
- **High**: urgency_score >= 75 OR impact_score >= 80
- **Medium**: urgency_score >= 50 AND impact_score >= 50
- **Low**: urgency_score < 50 OR impact_score < 50

## Integration Interfaces

### **Phase 0 Operations**
1. Read persistent todos from .claude/orchestration_todos.json
2. Analyze relevance to current context and user request
3. Calculate priority scores and rank todos
4. Select high-priority todos for current iteration
5. Integrate selected todos into session TodoWrite system

### **Phase 12 Operations**
1. Evaluate current todo status and completion
2. Update persistent todo file with progress
3. Check for remaining high-priority todos
4. Make loop control decision:
   - High-priority todos remain → Return to Phase 0
   - No high-priority todos → Complete workflow

### **Continuous Operations**
- Monitor session todo updates via TodoWrite
- Sync relevant changes back to persistent storage
- Track completion status and update scores
- Generate new todos based on discovered requirements

## Loop Control Logic

### **Decision Matrix**
```yaml
High Priority Todos Present:
  Action: "Return to Phase 0 with updated context"
  Context: Include priority todo summary and integration plan
  
No High Priority Todos:
  Action: "Complete workflow"
  Context: Generate completion summary and cleanup

Blocked Todos Present:
  Action: "Escalate for resolution planning"
  Context: Identify blockers and resolution strategies
```

## Best Practices

### **Recommended Usage**
- Always start workflow with Phase 0 todo integration
- Maintain clear, actionable todo descriptions
- Regular priority score updates based on changing context
- Consistent session-to-session context handoff

### **Performance Optimization**
- Batch todo operations to minimize file I/O
- Cache frequently accessed todo data
- Efficient priority calculation algorithms
- Context-aware todo relevance filtering

### **Error Handling Strategies**
- Graceful degradation if persistent file unavailable
- Fallback to session-only todo management
- Recovery mechanisms for corrupted todo files
- Validation of todo structure and data integrity

## Success Metrics

- **Context Continuity**: Successful handoff of context between sessions
- **Priority Accuracy**: Appropriate prioritization based on urgency/impact
- **Loop Control**: Correct decisions for workflow continuation/completion
- **Todo Completion**: High percentage of todo completion over time