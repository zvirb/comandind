[databases]
app_tx = host=postgres port=5432 dbname=ai_workflow_db

[pgbouncer]
listen_port = 6432
listen_addr = 0.0.0.0
auth_type = scram-sha-256
auth_file = /etc/pgbouncer/generated/pgbouncer_users_processed
pool_mode = transaction
max_client_conn = 200
default_pool_size = 50
reserve_pool_size = 10
log_connections = 1
log_disconnections = 1
log_pooler_errors = 1

# SSL Configuration - Disabled for development
client_tls_sslmode = disable
server_tls_sslmode = disable

# Administrative settings
admin_users = app_user
stats_users = app_user

# Connection limits and timeouts
server_reset_query = DISCARD ALL
server_check_query = SELECT 1
server_check_delay = 30
max_db_connections = 100
ignore_startup_parameters = extra_float_digits

# Logging
log_stats = 1
stats_period = 60